var ta=window.ta||{};var define;ta.rollupAmdShim=ta.rollupAmdShim||(function(){var o={};var u={};var b={};var t=[];var s=null;var q={ta:ta};var h=null;var l=null;var f=false;var e=function(A){var B=window.console&&(console.error||console.log);B&&B.apply&&B.apply(console,arguments);if(B&&!B.apply&&window.console&&console.error){console.error([].slice.apply(arguments))}};function r(E,D){var F,B,I,H;for(F=0;E&&E.length&&F<E.length;++F){o[E[F]]=true}for(F=0;D&&D.length&&F<D.length;++F){u[D[F]]=true}var C;var G;if(window._dummyDefine&&window._dummyDefine.isDummyDefine){C=window._dummyDefine.pendingDefinitions;window._dummyDefine=null;define=null}if(typeof require!=="undefined"&&require.isDummyRequire){G=require.pendingRequirements;var A=require.pendingConfigs;if(A&&A.length){for(F=0;F<A.length;F++){H=A[F];p.config.apply(null,H)}}require=null}if((typeof define!=="function")||!define.isTaRollupShim){if(typeof define==="function"){h=define}else{h=null}define=k}if((typeof require!=="function")||!require.isTaRollupShim){if(typeof require==="function"){l=require}else{l=null}require=p}if(C&&C.length){for(F=0;F<C.length;F++){B=C[F];k.apply(null,B)}}if(G&&G.length){for(F=0;F<G.length;F++){I=G[F];p.apply(null,I)}}}function k(B,G,H,A){var C,E;var D=[];if(typeof B==="string"&&typeof G==="object"&&typeof H==="function"){if(q.hasOwnProperty(B)||(b[B]&&b[B].deps)){return}E=d(G,D);if(E){try{C=H.apply(null,E);j(B,C)}catch(F){e("Error in require callback: ",F)}}else{v(D,{deps:G,cb:H,defname:B},k.depLoader)}}else{if(h){return h(B,G,H,A)}else{e("invalid args for AMD define: "+typeof(B)+", "+typeof(G)+", "+typeof(H))}}}k.amd=true;k.isTaRollupShim=true;k.depLoader=function(){};k.depLoader.isDefault=true;function p(A,G,B,F){var D=null;if(typeof A==="string"&&typeof G!=="function"){try{D=d([A]);if(!D&&l){D=[l(A,G,B,F)]}}catch(E){}if(!D){throw z(A)}return D[0]}else{if(typeof A==="object"&&typeof G==="function"){var C=[];D=d(A,C);if(D){try{G.apply(null,D)}catch(E){e("Error in require callback: ",E)}}else{v(C,{deps:A,cb:G,eb:(typeof B==="function"&&B)},k.depLoader)}}else{if(l){return l(A,G,B,F)}else{e("invalid args for AMD require: "+typeof(A)+", "+typeof(G)+". Expected either a string-literal singular dependency (i.e. synchronous) or an array of dependencies with a callback function (i.e. async).")}}}}p.isTaRollupShim=true;p.undef=function(B){delete q[B];var A=b[B];if(A&&A.deps){A.deps=[];A.cb=null;A.defname=null;delete b[B]}};p.config=function(){if(l&&l.config){l.config.apply(l,arguments)}};p.defined=function(A){if(q.hasOwnProperty(A)){return true}if(b.hasOwnProperty(A)){return false}return l&&l.defined&&l.defined(A)};p.parsed=function(A){if(q.hasOwnProperty(A)){return true}return(b[A]&&b[A].deps)};p.specified=function(A){if(q.hasOwnProperty(A)||b[A]){return true}return l&&l.specified&&l.specified(A)};function d(G,B){var D,A,E,C;var F=[];for(D=0;D<G.length;++D){A=G[D];C=null;if(A){if(q.hasOwnProperty(A)){C=q[A];F.push(C)}else{if(u[A]){E=A.split("/");if(E[0]==="underscore"){E[0]="_"}for(C=window;E.length>1&&C;C=C[E.shift()]){}if(E.length>0&&C){C=C[E[0]]||C[E[0].toLowerCase()]}if(C){q[A]=C;F.push(C)}else{B.push(A)}}else{if(B){B.push(A)}}}}else{F.push(null)}}if(F.length!==G.length){return}return F}function z(A){var G,B,H,C;var F="Missing immediately required dependency: "+A;for(G=0;G<10;G++){var E=b[A];if(!E){F+=" (not specified)";break}if(E.error){F+=" ("+E.error+")";break}A=null;C=E.deps;if(C){for(B=0;B<C.length;B++){H=C[B];if(!q.hasOwnProperty(H)){A=H;break}}}if(!A){break}F+=" -> "+A}var D=new Error(F);if(window.IS_DEBUG&&window.console&&console.error){console.error(D)}return D}function v(K,E,L){var F=[];var J=[];var C=[];var N;var O;var A;var B;var D,M,I;E.deps=E.deps||[];if(E.defname){B=b[E.defname];b[E.defname]=E;if(B&&B!==E&&B.needers&&B.needers.length){E.needers=(B.needers||[]).concat(E.needers||[])}}for(var D=0;D<K.length;D++){N=K[D];M=N.lastIndexOf("!");if(M>=0){F.push(N.substring(0,M));J.push(N.substring(M+1))}else{F.push(null);J.push(N)}}F=d(F,C);if(!F){return v(C,E)}for(var D=0;D<K.length;D++){O=F[D];A=b[K[D]];if(!A&&!q.hasOwnProperty(K[D])){A={defname:K[D]};b[K[D]]=A;var H=g(A);var P=n(A);H.error=P;try{if(O){O.load(J[D],p,H,{})}else{if(L){L(J[D],p,H,{})}else{if(l&&!l.taVer){l([A.defname],H,P)}else{throw new Error("no loader for AMD module '"+A.defname+"'")}}}I=true}catch(G){E.error=G;P(G)}}}E.need=0;for(var D=0;D<K.length;D++){N=K[D];A=b[N];if(A&&!q.hasOwnProperty(N)&&!A.error){A.needers=A.needers||[];A.needers.push(E);E.need+=1}}if(!E.need&&I){t.push(E);if(!s){s=setTimeout(c,0)}}}function c(){var C,G,F,B,A;s=-1;while(t.length>0){var D=t.shift();if(!D){continue}try{if(D.error){if(D.defname){i(D.defname)}continue}F=[];A=typeof D.deps=="string"?[D.deps]:D.deps;G=d(A||[],F);if(F.length>0){v(F,D);continue}B=null;if(D.cb){B=D.cb.apply(null,G)}D.deps=[];D.cb=null;if(D.defname){j(D.defname,B)}}catch(E){e("Error propagating dependency resolutions: ",E)}}s=null}function g(A){return function(B){if(A.defname){j(A.defname,B)}}}function n(A){return function(B){if(A.defname){A.error="Error loading '"+A.defname+"': "+B;e(A.error);A.need=0;A.deps=[];i(A.defname)}}}function j(D,E){if(q[D]){return}var F=b[D];if(F&&!m(F.defname)&&f&&a()){e("Resolved AMD module '"+F.defname+"' after the page 'load' event. Unless it is a deferred resource it should be resolved prior to 'load'.")}q[D]=E;delete b[D];if(o[D]){var B=D.split("/");var G=ta;var C;if(B[0]==="ta"){B.shift()}while(B.length>1){C=B.shift();if(!G[C]){G[C]={}}G=G[C]}if(B.length>0){C=B.shift();if(!(C in G||C.toLowerCase() in G)){G[C]=E;G[C.toLowerCase()]=E}}}if(h){h(D,[],y(E))}if(F){while(F.needers&&F.needers.length>0){var A=F.needers.shift();A.need-=1;if(!A.need){t.push(A)}}}if(t.length&&!s){s=setTimeout(c,0)}}function i(C){var E=b[C];if(E){var B=E.eb;E.deps=null;E.cb=null;E.eb=null;if(!E.error){E.error="Error loading '"+E.defname+"'"}while(E.needers&&E.needers.length>0){var A=E.needers.shift();A.error="Failed to load AMD module '"+C+"' which is depended upon by '"+A.defname+"'";if(A.need>0){A.need=0;t.push(A)}if(window.IS_DEBUG&&window.console&&console.error){console.error(A.error)}}if(B!=null){try{B(E.error)}catch(D){}}}if(t.length&&!s){s=setTimeout(c,0)}}function y(A){return function(){return A}}function m(A){return A&&(A.indexOf("trjs!")!==-1||A.indexOf("trcss!")!==-1||A.indexOf("trhtml!")!==-1)}function a(){return !(typeof ta!=="undefined"&&ta.page&&ta.page.loadDeferred)}function w(){var E,C,A,D,B;if(s){setTimeout(w,0);return}f=true;if(!b){return}if(!a()){return}for(E in b){if(b.hasOwnProperty(E)){C=b[E];D=[];B=[];if(m(C.defname)){continue}if(C.deps&&C.deps.length){for(A=0;A<C.deps.length;A++){if(!m(C.deps[A])){D.push(C.deps[A])}}d(D,B);if(B.length===0){continue}}e("Page 'load' event fired but we have not resolved the '"+C.defname+"' AMD module"+(C.deps&&C.deps.length?" due to missing dependencies: "+B:""))}}}if(window.addEventListener){window.addEventListener("load",w,false)}else{if(window.attachEvent){window.attachEvent("onload",w)}}var x={install:r,reportMissing:w};x.install();j("ta/rollupAmdShim",x);return x})();require(["ta/rollupAmdShim"],function(a){a.install(["modules/component/BounceUserTracking"],[])});if(window.requirejs&&requirejs.taConfig){requirejs.taConfig({deferred:{},name:"bounce_user_tracking",files:{js3:{src:{modules:{component:{BounceUserTracking:1}}}}},_:{baseUrl:"/"}})};define("vanillajs",[],function(){return{}});define("ta/Core/TA.PageVisibility",["vanillajs"],function(i){var j=[],k=[],g=false,m=false;var d,l;if(typeof document.hidden!=="undefined"){d="hidden";l="visibilitychange"}else{if(typeof document.mozHidden!=="undefined"){d="mozHidden";l="mozvisibilitychange"}else{if(typeof document.msHidden!=="undefined"){d="msHidden";l="msvisibilitychange"}else{if(typeof document.webkitHidden!=="undefined"){d="webkitHidden";l="webkitvisibilitychange"}}}}function h(){m=false;for(var n in k){if(k.hasOwnProperty(n)){k[n]()}}}function e(){m=true;for(var n in j){if(j.hasOwnProperty(n)){j[n]()}}}function f(){var o=document[d]?j:k;for(var n in o){if(o.hasOwnProperty(n)){o[n]()}}}function a(){if(typeof document[d]==="undefined"){if(document.addEventListener){document.addEventListener("focus",h,false);document.addEventListener("blur",e,false)}else{document.attachEvent("onfocus",h);document.attachEvent("onblur",e)}}else{document.addEventListener(l,f)}g=true}function b(){if(typeof document[d]==="undefined"){if(document.removeEventListener){document.removeEventListener("focus",h,false);document.removeEventListener("blur",e,false)}else{document.detachEvent("onfocus",h);document.detachEvent("onblur",e)}}else{document.removeEventListener(l,f)}m=false;g=false}function c(p,o){var n=p.indexOf(o);if(n>=0){return p.splice(n,1)}return null}return{addFocusListener:function(n){k.push(n);if(!g){a()}},addBlurListener:function(n){j.push(n);if(!g){a()}},removeFocusListener:function(n){if(n){c(k,n)}else{k.length=0}if(k.length===0&&j.length===0){b()}},removeBlurListener:function(n){if(n){c(j,n)}else{j.length=0}if(k.length===0&&j.length===0){b()}},hidden:function(){if(typeof document.hidden!=="undefined"){return document.hidden}return m}}});define("ns-exporter",["vanillajs"],function(b){function a(d){if(!d){if(require.defined("ta/util/Error")){require("ta/util/Error").record(null,"Using ns-exporter:exportTo without a namespace")}return null}if(typeof d=="string"){var c=window;if(!c.ta){ta={}}d.split(".").forEach(function(e){if(!c[e]){c[e]={}}c=c[e]});d=c}return d}return{exportTo:function(e,d,f){d=a(d);if(!d){return false}for(var c in e){if(e.hasOwnProperty(c)&&(!f||!(c in d))){d[c]=e[c]}}return true},createNs:function(d,c,e){c=a(c);if(!c){return false}c[e]=d}}});define("ta/util/Object",["vanillajs","ns-exporter"],function(b,c){var a={};a.typeOf=function(d){return Object.prototype.toString.call(d).match(/(\w+)\]$/)[1].toLowerCase()};a.merge=function(j){for(var e=1;e<arguments.length;e++){var g=arguments[e];if(!g){continue}j||(j=(a.typeOf(g)==="array")?[]:{});for(var d in g){var h=g[d];if(g.hasOwnProperty(d)&&a.typeOf(h)!=="undefined"){var f=a.typeOf(h);if(f==="string"||f==="number"||f==="boolean"||f==="function"||h===null){j[d]=h;continue}j[d]=a.merge(j[d],h)}}}return j};c.exportTo(a,"ta.util");return a});define("ta/Core/TA.Store",["vanillajs","ns-exporter","ta/util/Object"],function(c,e,a){var d={};var b={};b.store=function(f,g){d[f]=g;return g};b.retrieve=function(f){return d[f]};b.has=function(f){return typeof(d[f])!="undefined"};b.retrieveOrStore=function(f,g){var h=d[f];if(typeof(h)=="undefined"){d[f]=g;h=g}return h};b.remove=function(f){var g=d[f];delete d[f];return g};b.keep=function(h,i){var f=b.retrieve(h),g;if(f){g=f instanceof Array?f:[f]}else{g=[]}if(i instanceof Array){i.forEach(function(j){if(!g.contains(j)){g.push(j)}})}else{g.push(i)}b.store(h,g)};b.merge=function(f,g){b.store(f,a.merge(b.retrieve(f)||{},g))};b.asInt=function(g,f){var h=parseInt(b.retrieve(g));return isNaN(h)?(f||0):h};b.asFloat=function(h,g){var i=parseFloat(b.retrieve(h));return isNaN(i)?(g||0):i};b.executeCallbacks=function(g){if(b.has(g)){var h=b.retrieve(g);if(!h instanceof Array){return}for(var f=0;f<h.length;f++){h[f]()}}};e.exportTo(b,"ta");return b});define("purify",["vanillajs"],function(c){function b(e,d){if(!e){return e}if(a(e)){if(window.IS_DEBUG){console.error("You're using a jQuery object where you shouldn't. Check the stack trace and fix it!")}return d&&e.length>1?e.get():e.get(0)}return e.forEach&&(e.length<=1||!d)?e[0]:e}function a(d){return !!(d.animate&&d.get&&d.eq&&d.each)}return b});define("utils/json-to-url",["vanillajs"],function(){return function(a){if(!a){return""}return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")}});define("ajax-request",["utils/json-to-url","vanillajs"],function(d){function b(f){var e=document.createElement("a");e.href=f;return e.protocol!==window.location.protocol||e.host!==window.location.hostname}function a(e,f){try{if(!b(e)){f.setRequestHeader("X-Requested-With","XMLHttpRequest")}}catch(g){}try{f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8")}catch(g){}try{f.setRequestHeader("Accept","text/html, */*")}catch(g){}}function c(){try{return new XMLHttpRequest()}catch(g){try{return new ActiveXObject("MSXML2.XMLHTTP")}catch(f){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){throw new Error("Can't create XMLHttpRequest or similar")}}}}return function(e,f){if(typeof e==="object"){f=e;e=f.url}f=f||{};var h=f.method||f.type||"GET";var g=typeof f.data==="string"?f.data:d(f.data);return new Promise(function(k,j){var i=c();var l=false;i.onreadystatechange=function(){if(!l&&i.readyState===XMLHttpRequest.DONE){l=true;if(i.status>=200&&i.status<=299){f.success&&f.success(this.responseText,this.status,i);k(this.responseText)}else{f.error&&f.error(i,this.status,this.statusText);j(this.responseText)}f.complete&&f.complete(i,this.statusText)}};if(h.toLowerCase()==="get"&&typeof g==="string"&&g.length>0){e+=(g[0]==="?"?"":"?")+g;g=null}i.open(h,e,!f.synchronous);a(e,i);i.send(g)})}});define("ta/Core/TA.Record",["vanillajs","ns-exporter","ta/Core/TA.Store","purify","ajax-request"],function(v,g,d,S,B){var G={};var I={};var M=[];var R=8;var b="impressionTrackingTree";var f=0,h=1,p=2;var j=[];var H=60;var L=function(ab){return typeof ab==="function"};var C=function(){var ac=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],ae;if(window.XMLHttpRequest){ae=new XMLHttpRequest()}else{for(var ab=0;ab<ac.length;ab++){try{ae=new ActiveXObject(ac[ab]);break}catch(ad){}}}return ae};var n=function(ab,ac){try{if(!ab||typeof ac!=="object"){return}if(window.JSON&&JSON.stringify){var ad=JSON.stringify(ac);if(ad&&ad.length<100000){j.push([ab,ad]);if(j.length>H){j.shift()}}}}catch(ae){}};var u=function(ag,ac,ah){if(!ag||typeof ac!=="object"){F(new Error("postUrl/dataObj is null/empty/undefined"),"TA.Record _simpleAjaxPost",null,arguments);if(ah){ah()}return}var ad;if(typeof Request!=="undefined"&&window.MooTools){ad={url:ag,method:"post",data:ac};if(ah){ad.onComplete=ah;ad.timeout=3000}var ae=new Request(ad).send();n(ag,ac);return ae}else{if(typeof Zepto!=="undefined"&&Zepto&&L(Zepto.ajax)){ad={type:"POST",url:ag,data:ac,error:function(ak,ai){var aj=/InvalidTrackingTreeException/;if(window.IS_DEBUG&&new RegExp(aj).exec(ak.response)){var al=/Caused by:\s(.*)\n/;alert("TRACKING ERROR DETECTED\n"+new RegExp(al).exec(ak.response)[1])}F(new Error("XHR error, errorType = "+ai),"TA.Record _simpleAjaxPost",null,arguments)}};if(ah){ad.complete=ah;ad.timeout=3000}Zepto.ajax(ad)}else{if(typeof jQuery=="function"){ad={url:ag,type:"POST",data:ac};if(ah){ad.complete=ah;ad.timeout=3000}jQuery.ajax(ad)}else{var ab=C(),af=i(ac);ab.open("POST",ag);ab.setRequestHeader("Content-type","application/x-www-form-urlencoded");ab.send(af)}}}n(ag,ac)};var F=function(){if(require.defined("ta/util/Error")){var ab=require("ta/util/Error");ab.record.apply(ab,arguments)}else{if(ta&&ta.m&&L(ta.m.recordJSError)){ta.m.recordJSError(arguments)}}};var D=function(ab){if(typeof ab=="undefined"||ab==null){return""}if(typeof ab!=="string"){ab=ab.toString()}return ab.replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*")};var aa=function(ae){var ab=[];for(var ac in ae){var ad=ae[ac];ab.push(D(ac)+"."+D(ad))}return ab.join("*")};var z=function(ab){if(typeof ab=="undefined"||ab===null){return""}if(typeof ab!=="string"){ab=ab.toString()}return ab.replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*").replace(/\~/g,"!~")};var t=function(ae){var ab=[];for(var ac in ae){var ad=ae[ac];ab.push(z(ac)+"."+z(ad))}return ab.join("*")};var r=function(ab){var ac=/(https?:\/\/[^\/]+)?\/([^#.?-]*)/;var ad=ac.exec(ab);if(ad){if(typeof ad[2]!="undefined"){return(ad[2])?ad[2]:"Home"}}return null};var W=function(){var ab=G.getPageData();if(ab&&ab.url){return ab.url.substring(1)}else{var ac=/\/([^-]*)/.exec(window.location.pathname);return ac?ac[1]:null}};var X=function(ad,ab,ae){var ac=new RegExp("(-"+ab+"([0-9]+))|([?&]"+ae+"=([0-9]+))");var af=ac.exec(ad);if(af){if(typeof af[2]!="undefined"){return af[2]}if(typeof af[4]!="undefined"){return af[4]}}return null};var N=function(ab){return X(ab,"d","detail")||X(ab,"g","geo")};var P=function(ab){var ac=document.cookie.match("(?:^|;)\\s*"+ab+"=([^;]*)");if(ac){ac=ac[1];if(ac.indexOf("%1%")===0){ac=ac.substring(3)}return decodeURIComponent(ac)}return false};var s=function(ae,af,ac){try{var ab;if(ac.encode){af=encodeURIComponent(af)}if(ac.domain){af+="; domain="+ac.domain}if(ac.path){af+="; path="+ac.path}if(ac.duration){ab=new Date();ab.setTime(ab.getTime()+ac.duration*1000);af+="; expires="+ab.toGMTString()}if(ac.secure){af+="; secure"}document.cookie=ae+"="+af}catch(ad){F(ad,"_setCookieInSeconds",null,arguments)}};var Z=function(){if(ta.m&&ta.m.store&&ta.m.store.has("bookingSessionId")){return ta.m.store.get("bookingSessionId")}return null};var E=function(){var ab=false;if(typeof ta.userLoggedIn==="boolean"){if(typeof ta.userSecurelyLoggedIn==="boolean"){ab=ta.userLoggedIn?(ta.userSecurelyLoggedIn?p:h):f}else{ab=ta.userLoggedIn}}return ab};var U=function(ae,ac){var ab={gac:ae[1],gaa:ae[2],gal:ae[3],gav:ae[4],gani:ae[5],gass:W(),gasl:N(document.location.href),gads:r(ac),gadl:N(ac),gapu:ta.uid,gams:E()},ad=Z();if(!ab.gass){throw new Error("Src servlet undefined, gac:"+ab.gac+", gaa:"+ab.gaa+", gal:"+ab.gal)}if(!ab.gads){throw new Error("Dst servlet undefined. gac:"+ab.gac+", gaa:"+ab.gaa+", gal:"+ab.gal)}if(d.has("gatt")){ab.gatt=d.retrieve("gatt")}if(ad){ab.bsid=ad}s("EVT",aa(ab),{domain:cookieDomain,duration:5,encode:true,path:"/"})};var V=function(ae){if(!ae||!ae.className||!ae.firstChild){return false}var ad=new RegExp("\\b"+b+"\\b"),ab=ae.firstChild.nodeType,ac=ae.firstChild.nodeValue;return ad.test(ae.className)&&ab===R&&ac!==""};var k=function(){};if(require.defined("page-model")){require(["page-model"],function(ab){var ad=ab.session;var ac=ad.analyticsInfo;if(ac){d.keep("partials.pageProperties",ac.pagePropertyStringForCurrentPageview);d.store("gaMemberState",ac.memberState);if(ad.analyticsInfo&&require.defined("ta/Core/TA.Prerender")){require("ta/Core/TA.Prerender")._init(true)}}k=function(){if(ac){M.push(JSON.parse(ac.jsonForCurrentPageview))}k=function(){}}})}G.getPageData=function(){k();return M[M.length-1]};G.pushPageData=function(ab){k();if(ab){M.push(ab)}};G.popPageData=function(){k();return M.pop()};G._GARecordRequest=function(ag,ae){var ac={gac:ag[1],gaa:ag[2],gal:ag[3],gav:ag[4],gani:ag[5],gass:W(),gasl:document.location?N(document.location.href):null,gapu:ta.uid,gams:E()},af=Z(),ab;if(ae){ac.gacl=ae}if(d.has("gatt")){ac.gatt=d.retrieve("gatt")}if(af){ac.bsid=af}var ad;try{if(d.retrieve("batch_garecord")){ad=require("utils/BatchRequest")}else{if(ta.m&&ta.m.batch_garecord_mobile){ad=require("mobile/lite/batch-request")}}}catch(ah){}if(ad){ab={get:function(){ad.queue("/GARecord",ac)}}}else{ab={get:function(){setTimeout(function(){var ai=new XMLHttpRequest();ai.open("GET","/GARecord?"+i(ac),true);ai.send(null)},1)}}}n("/GARecord",ac);return ab};var i=function(ac){var ad=[];for(var ab in ac){ad.push(encodeURIComponent(ab)+"="+encodeURIComponent(ac[ab]))}return ad.join("&")};I.urlArgLookup=function(ae,ab){var ad=new RegExp("[\\?&]"+ae+"=(\\w+)");var ac=ad.exec(ab);if(ac&&typeof ac[1]!="undefined"){return ac[1]}return null};G._validatedTrackEventArray=function(ad,af,ab,ae,ac){if(ad&&typeof ad!="string"){ad=ad.toString()}if(af&&typeof af!="string"){af=af.toString()}if(ab&&typeof ab!="string"){ab=ab.toString()}if(!ae){ae=0}else{if(typeof ae!="number"){ae=parseFloat(ae);if(isNaN(ae)){ae=0}}}if(typeof ac!="boolean"){ac=(ac===true)}return["_trackEvent",ad,af,ab,ae,ac]};G._toEvtParams=function(ad){try{var ab={gac:ad.module,gaa:ad.action,gal:ad.context,gav:ad.value,gani:ad.noninteraction};ab.gass=W();ab.gasl=N(document.location.href);ab.gapu=ta.uid;ab.gams=E();return ab}catch(ac){F(ac,"analytics._toEvtParams",null,ad)}};G._trackEventAfterAjax=function(ac){try{I.trackDMPBehavior(ac.module,ac.action,ac.context,ac.value,ac.noninteraction)}catch(ab){F(ab,"analytics._trackEventAfterAjax",null,ac)}};I.getEventPathOptions=function(ag,ad,ac){try{var af=w(ac,ag);if(!af){F(null,"ta.getEventPathOptions - invalid element",null,arguments);return}var ab=K(af);if(ad){ab.noninteraction=ad}return ab}catch(ae){F(ae,"ta.getEventPathOptions",null,arguments)}};G._trackEventPathAfterAjax=function(ab){try{I.trackEventOnPage(ab.category,ab.action,ab.label,ab.value,ab.noninteraction)}catch(ac){F(ac,"analytics._trackEventPathAfterAjax",null,arguments)}};I.trackPhysicalCommerce=function(ad,ac,ag,ab){try{var ae=G._validatedTrackEventArray(ad,"Commerce-Physical",ac,ag,false);G._GARecordRequest(ae,ab).get()}catch(af){F(af,"ta.trackPhysicalCommerce",null,arguments)}};I.trackAttemptedCommerce=function(ac,ab,ae){try{I.trackDMPBehavior(ac,ab,ae,null,null)}catch(ad){F(ad,"ta.trackAttemptedCommerce",null,arguments)}};I.trackPhysicalAndAttemptedCommerce=function(ad,ac,ae,af,ab){I.trackPhysicalCommerce(ad,ac,af,ab);I.trackAttemptedCommerce(ad,ac,ae,af)};I.trackImpressionEventOnPage=function(ac,ae,ab,ad){ac=ac||"";ae=ae||"";ab=ab||"";ad=ad||0;I.trackEventOnPage(ac,ae,ab,ad,true)};I.trackEventOnPage=function(ac,ag,ab,af,ae){try{var ad=G._validatedTrackEventArray(ac,ag,ab,af,ae);G._GARecordRequest(ad).get();I.trackDMPBehavior(ac,ag,ab,af,ae)}catch(ah){F(ah,"ta.trackEventOnPage",null,arguments)}};I.trackEventOnPageOnce=function(af,ah,ad,ae){var ab="eventsAlreadyTracked",ag;if(ifdefNN(ta)&&ifdefNN(ta.m)&&ifdefNN(ta.m.store)){ag=ta.m.store.get(ab)}else{ag=d.retrieve(ab)}if(!ag){ag={};if(ifdefNN(ta)&&ifdefNN(ta.m)&&ifdefNN(ta.m.store)){ta.m.store.add(ab,ag)}else{d.store(ab,ag)}}var ac=af+"|"+ah+"|"+ad;if(!ag[ac]){I.trackEventOnPage(af,ah,ad,0,ae);ag[ac]=true}};I.trackDMPBehavior=function(ad,ag,ac,af,ae){try{if(require.defined("ta/common/behavior/dmp/DMP")){var ab=require("ta/common/behavior/dmp/DMP");if(ab.isEnabled()){ab.sendGABehavior(ad,ag,ac,af,ae)}}}catch(ah){F(ah,"Error adding and sending GARecord behavior to DMP")}};I.setEvtCookie=function(ae,ah,ad,ag,ac){try{var af=G._validatedTrackEventArray(ae,ah,ad,ag,false);U(af,ac);if(require.defined("ta/common/behavior/dmp/DMP")){var ab=require("ta/common/behavior/dmp/DMP");if(ab.isEnabled()){ab.sendEventBehavior(ae,ah,ad,ag,T())}}}catch(ai){F(ai,"ta.setEvtCookie",null,arguments)}};var x=function(ad){var ac;try{ac=P("MEVT")||"";if(ac.length>0){ac+="~"}ac+=t(ad);if(ac.length>1024){throw"MEVT Cookie is full"}s("MEVT",ac,{domain:cookieDomain,duration:5,encode:true})}catch(ab){F(ab,"_appendMevtCookie",null,arguments);return false}return true};var m="trk";var a=m.length;var Q="etk";var q=/^([A-Z]{1,2}:)?[A-Za-z_0-9\-\.]+$/;var T=function(){var ab=(typeof event!="undefined")?event:window.event;if(ab){return ab.target||ab.srcElement}return document.activeElement};G.getCommentTrackingPath=function(ab,ac){return w(ab,ac)};var w=function(ah,aj){ah=S(ah);if(!ah){ah=T();if(!ah){F(null,"_getCommentTrackingPath - no element provided or event target element",null,arguments);return null}}if(ah.nodeType!=1){return null}var am=[];if(aj&&typeof aj=="string"&&aj!==""){if(q.test(aj)){if(aj.substring(0,2)=="P:"){am.push(aj.substring(2));return am}else{am.push(aj)}}}if(typeof ah.previousSibling==="undefined"){F(null,"_getCommentTrackingPath - browser does not support previousSibling",null,arguments);return am}LOOP_PARENT_NODES:for(var ae=ah;ae!=document.body;ae=ae.parentNode){if(ae==null){F(null,"_getCommentTrackingPath - LOOP_PARENT_NODES got unexpected null node",null,arguments);break}var ak=0;for(var ab=ae.previousSibling;ab!=null;ab=ab.previousSibling){if(ab.nodeType==R){var ad=ab.nodeValue;if(ad==Q){ak++;continue}if(ad.substring(0,a)!=m){continue}if(ak>0){ak--;continue}var ag=ad.substring(a).split("/");if(!ag){F(null,'ta._getCommentTrackingPath - cannot split context class: "'+ad+'"',null,arguments)}for(var al=ag.length-1;al>=0;al--){var ac=ag[al];var ai=q.exec(ac);if(!ai){F(null,'ta._getCommentTrackingPath - tracking prefix used with invalid context: "'+ag[al]+'"',null,arguments);continue}if(ai[1]=="P:"){var af=ai[0].substring(2);am.push(af);break LOOP_PARENT_NODES}else{am.push(ai[0])}}}}}return am};var K=function(ad){if(ad.length===0){return null}var ab={action:ad[0],label:"",value:"1",category:ad[ad.length-1]};ad.shift();for(var ac=ad.length-2;ac>=0;ac--){ab.label+=ad[ac];if(ac>0){ab.label+="/"}if(ad[ac].substring(0,2)=="N:"){ab.value=ad[ac].substring(2)}}if(ab.label===""){ab.label="Unknown"}return ab};I.trk=function(af,ah,ae,ac){ae=S(ae);try{var aj=ae?ae.getAttribute("data-trk-path"):null;if(aj){aj=aj.replace("P:","");aj=aj.split("/");aj.reverse()}else{aj=w(ae,af);if(!aj||!aj.length){var ad="";if(ae){if(ae.outerHTML){var ai=document.createTextNode(ae.outerHTML);var ab=document.createElement("div");ab.appendChild(ai);ad=ab.innerHTML.substring(0,100)}else{if(ae.nodeName){ad=ae.nodeName}else{ad+=ae}}}else{if(ae===undefined){ad="undefined"}else{if(ae===null){ad="null"}}}if(!af){if(aj===null){af="null path"}else{if(aj===undefined){af="undefined path"}else{if(aj.hasOwnProperty("length")){if(aj.length===0){af="empty path"}else{af=aj.join(",")}}else{af="path: "+aj}}}}F(null,"ta.trk - invalid element for "+af+" from "+ad,null,arguments);return}}I.trkWithPath(aj,ah,ac)}catch(ag){F(ag,"ta.trk",null,arguments)}};I.trkWithPath=function(ag,ae,af){try{if(!ag||!ag.length){F(null,"ta.trkWithPath - no path in arguments",null,arguments);return}if(af&&af.length>0&&ag.length&&ag.splice){for(var ac=af.length-1;ac>=0;ac--){if(typeof(af[ac])==="string"){ag.splice(1,0,af[ac])}}}var ab=K(ag);I.trackEventOnPage(ab.category,ab.action,ab.label,ab.value,ae)}catch(ad){F(ad,"ta.trkWithPath - "+ad,null,arguments)}};I.trkImpTree=function(ac){try{if(!V(ac)){F(null,"ta.trkImpTree called with invalid trackTreeElem!",null,arguments);return}var ab=ac.firstChild.nodeValue;o(ab)}catch(ad){F(ad,"ta.trkImpTree",null,arguments)}};I.recordImpression=function(ab,ad){if(!ab){if(ad){ad()}return}try{o(J(ab),ad)}catch(ac){F(ac,"ta.recordImpression",null,arguments);if(ad){ad()}}};var A="<!--";var y="-->";var J=function(ab){var ac=ab.indexOf(A),ad=0,ae=ab.indexOf(y);if(ac!==-1){ad=ac+A.length}if(ae===-1){ae=ab.length}return ab.substring(ad,ae)};G.stripCommentsFromTree=J;var l="\\";var c="/";G.appendAscendTokens=function(ac){var ae=0,ad=0,ab=0;for(ae=0;ae<ac.length;ae++){if(ac[ae]===c){ab++}else{if(ac[ae]===l){ad=ae+1;while(ad<ac.length&&ac[ad]===l){ab--;ae=ad;ad++}}}}if(ab>0){for(ae=0;ae<ab;ae++){ac+=l}}return ac};var o=function(ab,ad){var ac={tTreeStr:ab&&ab.trim(),tTreeUid:ta.uid&&ta.uid.trim(),tTreeLastReferrer:window.location.href,tTreeIsMemberSignedIn:E()};if(ta.m&&ta.m.store&&ta.m.store.has("bookingSessionId")){ac.bsid=ta.m.store.get("bookingSessionId")}if(!ac.tTreeStr){F(new Error("tTreeStr is null/undefined/empty."),"ta._sendTreeImpression",null)}else{if(!ac.tTreeUid){F(new Error("tTreeUid is null/undefined/empty."),"ta._sendTreeImpression",null)}}if(d.retrieve("js_impression_unified_ajax")){B("/ImpressionRecord",{method:"POST",url:"/ImpressionRecord",data:ac}).then(ad,ad);n("/ImpressionRecord",ac)}else{u("/ImpressionRecord",ac,ad)}};I.setEvtCookieAndPath=function(ag,ab,ad){try{if(!ad){ad=T()}var af=w(ad,ag);if(!af){F(null,"ta.setEvtCookieAndPath - invalid element for "+ag,null,arguments);return}var ac=K(af);if(!ab){while(ad.nodeName!="A"){if(ad==document.body){break}ad=ad.parentNode}ab=ad.href;if(!ab){F(null,"ta.setEvtCookieAndPath - no url parameter and cannot find a.href",null,arguments);return}}I.setEvtCookie(ac.category,ac.action,ac.label,ac.value,ab)}catch(ae){F(ae,"ta.setEvtCookieAndPath",null,arguments)}};I.recordPageview=function(ac,af){if(!ac){return}var ab=r(ac),ae="/PageviewRecord",ad=af?af:{};if(ab){ad.servletName=ab;u(ae,ad)}};I.recordTabView=function(ag,ac,af){if(!ag||!ac){return}var ab=ag+"-"+ac,ae="/PageviewRecord",ad=af?af:{};if(ab){ad.servletName=ab;u(ae,ad)}};I.resetPageDataUrl=function(){var ab=G.getPageData();if(ab){ab.url=""}};I.trackEngagementClick=function(ab,ac){if(!ab||!ac){F(new Error("object/selectionFunction is null/undefined"),"ta.trackEngagementClick",null,arguments);return}if(!L(ac)){F(new Error("passed variable selectionFunction is not a function"),"ta.trackEngagementClick",null,ac);return}ac(ab)};I.placementNodeSelectorTracker=function(ah){if(!ah||!ah.element||!ah.type){F(new Error("object/element/type is null/undefined"),"ta.placementNodeSelectorTracker",null,ah);return}var am=ah.element;var ag=ah.type;var ai;var ad;var ap;var ao;var ac;var al;var ae=G.getCommentTrackingPath(am);ag=ag+"_Click";if(!ae){F(new Error("trackTreePath is null/undefined"),"ta.placementNodeSelectorTracker",null,arguments);return}if(ae.length<1){F(new Error("trackTreePath is missing information"),"ta.placementNodeSelectorTracker",null,arguments);return}ai=ae[ae.length-1];if(!ai){F(new Error("placement is null/undefined"),"ta.placementNodeSelectorTracker",null,ae);return}for(al=ae.length-1;al>=0;al--){ac=ae[al];if(!ac){continue}if(ac.indexOf("N:")===0){ad=ac;break}}if(ai==="HH_MainList"||ai==="Maps_MetaBlock"){ad="N:1"}else{if(!ad){F(new Error("positionNode is null/undefined"),"ta.placementNodeSelectorTracker",null,ae);return}}ap=ad.split(":");if(ap&&ap.length===2){ao=ap[1]}else{F(new Error("positionSplit appears to be incorrect"),"ta.placementNodeSelectorTracker",null,arguments);return}if(!ao){F(new Error("position is null/undefined"),"ta.placementNodeSelectorTracker",null,arguments);return}var ak=parseInt(ao,10);if(isNaN(ak)){F(new Error("position is not a number"),"ta.placementNodeSelectorTracker",null,ao);return}var ar=Y(ai);if(ar===-1){return}ao=ak+ar;ai=e(ai);if(ai==="hotels_slot_x"){var aq=document.getElementById("slotXListingWrap");if(aq){var ab=aq.getAttribute("data-prodAttr");var an=parseInt(aq.getAttribute("data-prodId"),10);I.trackEventOnPage(ai,ag,ab,an+1)}return}var af;var aj=document.querySelectorAll(".ui_tab_bar .ui_tab.selected");if(aj.length===1){aj=aj[0];af=aj.getAttribute("data-currentSort")}I.trackEventOnPage(ai,ag,af,ao)};var e=function(ab){if(!ab){return ab}if(W()!=="Hotels"){return"Clicks_"+ab}var ac;if(ab==="Hotels_MainList"||ab==="Hotels_MainList_Sponsored"||ab==="Hotels_MainList_Discovery_Sponsored_Listing"){ac="Clicks_"+ab}else{if(ab==="hotels_list_short_cells2"){ac="Clicks_Hotels_MainList"}else{if(ab==="sponsored_coupon_listing"){ac="Clicks_Hotels_MainList_Sponsored"}else{if(ab==="DesktopSlotX"||ab==="MobileSlotX"||ab==="Hotels_SlotX_Sponsored"){return"hotels_slot_x"}}}}if(document.getElementById("sponsoredCouponListingWrap")&&ac==="Clicks_Hotels_MainList"){ac+="_Sponsored"}ac+=(ta.widgets.calendar.getCheckRatesData())?"_PostDates":"_PreDates";return ac};var Y=function(ae){if(!ae){F(new Error("placement is null/undefined"),"ta._shiftOrdinalsWithSponsoredPlacement",null,ae);return -1}if(W()!=="Hotels"){return 0}var ac=0;var ag=d.retrieve("hac.offset");if(ag&&ag>0){ac=ag}if(!document.getElementById("sponsoredCouponListingWrap")){return ac}var ad=document.querySelector("#HAC_RESULTS .pageNumbers .current");var ab;if(ad){var af=ad.getAttribute("data-page-number");ab=parseInt(af,10);if(isNaN(ab)||!ab){F(new Error("pageNumber is not a number"),"ta._shiftOrdinalsWithSponsoredPlacement",null,af);return -1}}if(ae==="hotels_list_short_cells2"||ae==="Hotels_MainList"){ac+=ab;return ac}if(ag&&ag>0&&(ae==="sponsored_coupon_listing"||ae==="Hotels_MainList_Sponsored"||ae==="Hotels_MainList_Discovery_Sponsored_Listing")){ac+=(ab-1)}return ac};I.getRecentTARecords=function(){return j};I.addTypeAheadMevt=function(ab){ab.t="ta";return x(ab)};I.addGARecordMevt=function(ae,af,ad,aj,ac){try{var ab=G._validatedTrackEventArray(ae,af,ad,aj,false),ai={t:"ga",gac:ab[1],gaa:ab[2],gal:ab[3],gav:ab[4],gani:ab[5],gass:W(),gasl:N(document.location.href),gads:r(ac),gadl:N(ac),gapu:ta.uid,gams:E()},ag=Z();if(!ai.gass){throw new Error("Src servlet undefined, gac:"+ai.gac+", gaa:"+ai.gaa+", gal:"+ai.gal)}if(!ai.gads){throw new Error("Dst servlet undefined. gac:"+ai.gac+", gaa:"+ai.gaa+", gal:"+ai.gal)}if(d.has("gatt")){ai.gatt=d.retrieve("gatt")}if(ag){ai.bsid=ag}x(ai);if(require.defined("ta/common/behavior/dmp/DMP")){var ak=require("ta/common/behavior/dmp/DMP");if(ak.isEnabled()){ak.sendEventBehavior(ae,af,ad,aj,T())}}}catch(ah){F(ah,"ta.addGARecordMevt",null,arguments)}};g.createNs(G,"ta","analytics");g.exportTo(I,"ta");var O={};g.exportTo(G,O);g.exportTo(I,O);return O});define("modules/component/BounceUserTracking",["vanillajs","ta/Core/TA.PageVisibility","ta/Core/TA.Record"],function(g,e,c){var n=600000;var l;var m;var b;var k;var h;function j(){h=new Date().getTime();d()}function i(q,p,o,s,u,r,t){l=p;b=k;m=t;d()}function d(){if(!b||!h){return}if(l==="TripAdvisor"){return}if(h>b&&h-b<=n){c.trackEventOnPage("COMMERCE_CLICK","Meta_Bounce",(window.pageServlet||"")+"|"+(m||"")+"|"+(l||""),(h-b));b=false;k=false;ta.fireEvent("metaBounce")}}function a(){k=new Date().getTime()}function f(){ta.on("metaLinkClick",i);e.addFocusListener(j);e.addBlurListener(a);if(window.addEventListener){window.addEventListener("focus",j,false);window.addEventListener("blur",a,false)}else{if(window.attachEvent){window.attachEvent("onfocus",j);window.attachEvent("onblur",a)}}}ta.queueForLoad(f,"Bounce meta clicker tracking trigger");return null});