
<!-- saved from url=(2340)https://static.tacdn.com/static/page_moniker/facebook_wca-v22064247626b.html#pixelType=PAGEVIEW&curLocId=7599733&geoId=297612&tadomain=tripadvisor.in&reqUnique=c530e6d8780e250fa988566b43820fd19a2853a3&userUnique=a89f571d318a1ca8912d4064c1ecb7e5e92b5ad9&locale=en_IN&seqId=112&regionName=Gujarat&cityName=Surat&countryName=India&destinationName=Black Pepper&locationType=Eatery&stDest=Surat%2CGujarat%2CIndia&geoName=Surat&geoParentId=12385936&geoParentName=Surat District&geoMostPop=1976031&loc1=1976031&productIds=["d1976031enIN297612","297612enIN"]&productIdsShort=d1976031enIN297612,297612enIN&trueServlet=Restaurant_Review&fbTrueServlet=BK&fbRetargetingType=3&servlet=Restaurant_Review&geoFeedBucket=all&serverName=www.tripadvisor.in&device=Desktop&fbDevice=1&userGeo=2278120&siteType=d&puid=WagXqQoQHmYAAliSejIAAADR&isMobileDevice=n&rtPath=www.tamgrt.com/RT&random=3289698161&taSplit=2&mcid=10575&fbChannel=2&tasource=SEO&geo=297612&isClickoutYN=no&isLoggedIn=N&securelyLoggedIn=N&stuid=NY1QkB0y0N4ipmwIgkl7aDrMsehmmQ8Np5Vd6rm20pFqgXO4rBjNvds_UK92S2qP&countryAlpha2=IN&criteoPartnerId=10514&criteoAttractionPartnerId=30195&criteoHotelAcct=%5Ban%3Dweb-hotels-tripadvisor.com%26cn%3Din%26ln%3Den%2Can%3Dweb-hotels-0-tripadvisor.com%26cn%3Din%26ln%3Den%2Can%3Dweb-hotels-1-tripadvisor.com%26cn%3Din%26ln%3Den%2Can%3Dweb-hotels-2-tripadvisor.com%26cn%3Din%26ln%3Den%5D&facebookuvm_v2UlbScore=0.2953664077210279&facebookuvm_v2UlbBucket=1&FBUV=[{a:6079460527719,m:1.7036108138054329},{a:6079460527319,m:1.7036108138054329},{a:6074364254332,m:1.7036108138054329},{a:6074364255132,m:1.7036108138054329}]&fbUlbMultiplier=1.7036108138054329&facebookUlbScore=0.133639341&facebookUlbBucket=1&googleExperimentSegment=control&googleBR_exp1UlbScore=0.03251140000000001&googleBR_exp1UlbBucket=1&googleAA_testUlbScore=0.133639341&googleAA_testUlbBucket=2&googleUlbScore=0.133639341&googleUlbBucket=2&googleuvm_v2UlbBucket=3&googleuvm_v2UlbScore=0.118199962&UVMBESTSCORE=0.12&UVMSCOPE=UVM_V2&UVMSAVEABLE=0&googleUvmIsV2=1&criteoUlbScore=0.118199962&criteoUlbBucket=3&criteoUlbScoreCurrent=0.118199962&criteoUlbBucketCurrent=3&mofSlice=30&mofLastUpdated=20170831&smarterTravelPixelID=gqLWKHSnTxes4YmmtgWkqA&smarterTravelPixelDomain=p.smartertravel.com&isSTConversion=false&googleCRMId=42c0abf1085b3eb797f2df9df21f0fbd0521f43b&pixelName=facebook_wca_pixel -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
  </head>
  <body>
    <script src="./666624680067334" async=""></script><script async="" src="./fbevents.js.download"></script><script type="text/javascript">
      // Pull params from URL (argdict maps keys to values or arrays of values)
      var argdict = {};
      var args = window.location.hash.substring(1).split("&");
      for (var i = 0; i < args.length; i++) {
        var pair = args[i].split("=");

        if (typeof argdict[pair[0]] === "undefined") {
          argdict[pair[0]] = pair[1];
        } else if (typeof argdict[pair[0]] === "string") {
          argdict[pair[0]] = [argdict[pair[0]], pair[1]];
        } else {
          argdict[pair[0]].push(pair[1]);
        }
      }
      
      var fbPixelName = 'ViewContent';
      if (argdict.pixelType === 'CLICKOUT') {
        fbPixelName = 'Purchase';
      } else if (argdict.pixelType === 'ENTER_DATES') {
        fbPixelName = 'EnterDates'
      }
      
      var applicationId = encodeURIComponent(250701451714610);      
      // event name for Dynamic Product Ads
      var eventName = encodeURIComponent(fbPixelName);
      var fbCategory = encodeURIComponent(argdict.fbTrueServlet);
      var fbDevice = encodeURIComponent(argdict.fbDevice);
      var fbDateIn = encodeURIComponent(argdict.fbDateIn);
      var fbDateOut = encodeURIComponent(argdict.fbDateOut);
      var geoId = encodeURIComponent(argdict.geoId);
      // if no property id, returns the geo's most popular property id if there is one
      var PropId = encodeURIComponent(argdict.propId ? argdict.propId : argdict.geoMostPop);
      var recommendedPercent = encodeURIComponent(argdict.recPercent);
      var stars = encodeURIComponent(argdict.stars);
      var rating = encodeURIComponent(argdict.rating);
      var userUnique = encodeURIComponent(argdict.userUnique);
      var ulbBucket = encodeURIComponent(argdict.facebookUlbBucket);
      var ulbScore = encodeURIComponent(argdict.facebookUlbScore);
      var fbRetargetingType = encodeURIComponent(argdict.fbRetargetingType);
      var fbUlbMultiplier = encodeURIComponent(argdict.fbUlbMultiplier);
      var mofSlice = encodeURIComponent(argdict.mofSlice);
      var mofLastUpdated = encodeURIComponent(argdict.mofLastUpdated);
      var isOwner = encodeURIComponent(argdict.isOwner);
      var isPremiumSub = encodeURIComponent(argdict.isPremiumSub);
      var isLafOwner = encodeURIComponent(argdict.isLafOwner);
      var ownerInLafGeo = encodeURIComponent(argdict.ownerInLafGeo);
      var rsClickPath = encodeURIComponent(argdict.rsClickPath);
      var uvmV2Bucket = encodeURIComponent(argdict.facebookuvm_v2UlbBucket);
      var uvmV2Score = encodeURIComponent(argdict.facebookuvm_v2UlbScore);
      var fbuv = argdict.FBUV;

      // product ids for Dynamic Product Ads. Currently returning a property product followed by a geo product to ensure the geo product is the last product fired
      var productIds = [];
      if (typeof argdict['loc1'] !== 'undefined') {
        // On Hotels page, loc1 is the top commerce hotel for the geo in the POS.
        // On properties page, loc1 is the actual hotel.
        // In all other pages(e.g. SmartDeals page), loc1 is the top pop hotel of the geo.
        productIds.push(encodeURIComponent('d' + argdict['loc1'] + argdict.locale.replace('_' , '') + geoId));
      }
      productIds.push(encodeURIComponent(geoId + argdict.locale.replace('_' , '')));
      
      // TODO: Uncomment when we start retargeting users from ShowForum and ShowTopic servlets
      //if (category === 'ShowForum' || category === 'ShowTopic') {
      //  category = 'Forum';
      //}
      
      // The following code, except the hashed email logic, is copy pasted from facebook.
      !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
      n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
      document,'script','//connect.facebook.net/en_US/fbevents.js');
      
      var pixelId = '666624680067334';
      if (typeof argdict['fbHEml'] !== 'undefined') {
        // include hashed member id if available
        fbq('init', pixelId, {em: encodeURIComponent(argdict.fbHEml)});
      }
      else {
        fbq('init', pixelId);
      }

      //End of copy paste from facebook.

      // For obfuscated pixel key mapping, see FB_PIXEL_KEY_MAPPING in PageMoniker.java
      // These are used for Facebook DPA ad creation, do not modify without consulting vwang@ or om-fb@
      var params = {
        'application_id' : applicationId,
        'content_type' : 'product',
        'content_ids' : productIds,
        'external_id': userUnique,
        'FB1' : fbDateIn,           // fbCheckInDate
        'FB2' : fbDateOut,          // fbCheckOutDate
        'FB3' : geoId,              // destinationCode
        'FB4' : fbDevice,           // fbDevice
        'FB5' : rating,             // hotelStarRating
        'FB6' : stars,              // hotelClass
        'FB7' : recommendedPercent, // percentRating
        'FB8' : fbCategory,         // fbProductType
        'FB9' : PropId,             // propertyID
        'FB10': userUnique,         // userUnique - this is passed so Facebook can match users with data we provided in an offline file (5/13/15)
        'FB13': ulbBucket,          // User level bid bucket (UVM v1)
        'FB14': ulbScore,           // User level bid score (UVM v1)
        'FB17': fbRetargetingType,  // Retargeting type
        'FB18': fbUlbMultiplier,    // User level bid multiplier
        'FB19': mofSlice,           // MOF slice info
        'FB20': mofLastUpdated,     // Date when MOF slice info was last updated
        'FB22': isOwner,            // Whether or not the user is a verified owner
        'FB23': isPremiumSub,       // Set to 1 if the user is subscribed to premium on at least 1 restaurant property
        'FB24': isLafOwner,         // Set to 1 if the user owns a LaF (or Dimmi) property
        'FB25': ownerInLafGeo,      // Set to 1 if the user owns a restaurant in a LaF or dimmi supported geo
        'FB26': rsClickPath,        // See SalesLanderPage, this represents the type of page in the sales lander path
        'FB27': uvmV2Bucket,        // ULB bucket for v2 (for testing)
        'FB28': uvmV2Score          // ULB score for v2 (for testing)
      };

      if (fbuv != null) {
        params.FBUV = fbuv; // ULB multiplier array
      }

      // IB_CONFIRM pixels don't actually use this code (they all have urls in pixels.ini)
      // The IB_CONFIRM option here is aded as a precaution in case that changes.     
      if (argdict.pixelType === 'CLICKOUT' || argdict.pixelType === 'IB_CONFIRM') {
        // Use puid as conversion unique
        params.currency = 'USD';
        params.value = argdict.fbBrpc;
        params.order_id = argdict.puid;
      }
      // for Dynamic Product Ads
      if (fbPixelName === 'EnterDates') {
        fbq('trackCustom', eventName, params);
      } else {
        fbq('track', eventName, params);
      }
    </script>
  

</body></html>